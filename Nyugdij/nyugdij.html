<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nyugd√≠j Visszasz√°ml√°l√≥ üéâ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 10px;
            touch-action: manipulation;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            text-align: center;
            width: 100%;
            max-width: 420px;
            margin: 0 auto;
        }

        h1 {
            color: #333;
            margin-bottom: 8px;
            font-size: 1.8em;
            font-weight: 700;
            line-height: 1.2;
        }

        .subtitle {
            color: #666;
            margin-bottom: 15px;
            font-size: 0.95em;
            line-height: 1.3;
        }

        .progress-container {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 15px;
            margin: 12px 0;
            position: relative;
        }

        .progress-bar {
            width: 100%;
            height: 28px;
            background: #e9ecef;
            border-radius: 14px;
            overflow: hidden;
            margin: 8px 0 5px 0;
            position: relative;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #4ecdc4, #44a08d);
            border-radius: 14px;
            transition: width 0.5s ease;
            position: relative;
        }

        .progress-percent {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #333;
            font-weight: bold;
            font-size: 12px;
            text-shadow: 0 1px 1px rgba(255,255,255,0.8);
            z-index: 2;
            white-space: nowrap;
            letter-spacing: -0.3px;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-top: 4px;
            font-size: 0.85em;
            color: #666;
            font-weight: 500;
        }

        .current-progress {
            background: #e8f5e9;
            padding: 8px 10px;
            border-radius: 10px;
            margin-top: 8px;
            font-size: 0.9em;
            color: #2e7d32;
            font-weight: 500;
        }

        .countdown {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 6px;
            margin: 15px 0;
        }

        .time-unit {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 10px 5px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(255,107,107,0.25);
        }

        .number {
            font-size: 1.5em;
            font-weight: 800;
            display: block;
            line-height: 1.2;
        }

        .label {
            font-size: 0.7em;
            opacity: 0.95;
            margin-top: 2px;
            font-weight: 500;
            letter-spacing: 0.3px;
        }

        .target-date {
            background: #e3f2fd;
            padding: 12px;
            border-radius: 12px;
            margin: 15px 0;
            border: 2px dashed #2196f3;
            font-size: 0.9em;
        }

        .emoji {
            font-size: 2.2em;
            margin-bottom: 8px;
        }

        .highlight {
            color: #ee5a24;
            font-weight: 800;
            font-size: 1.1em;
        }

        .date-big {
            font-size: 1.1em;
            font-weight: 700;
            color: #2196f3;
            display: block;
            margin-top: 3px;
            line-height: 1.3;
        }

        .message {
            margin-top: 15px;
            padding: 12px;
            background: #f9f9f9;
            border-radius: 12px;
            font-size: 0.9em;
            line-height: 1.4;
        }

        /* Samsung Galaxy S21 FE optimaliz√°l√°s */
        @media (max-height: 780px) {
            body {
                padding: 8px;
            }
            
            .container {
                padding: 16px;
            }
            
            h1 {
                font-size: 1.6em;
                margin-bottom: 6px;
            }
            
            .subtitle {
                font-size: 0.85em;
                margin-bottom: 12px;
            }
            
            .progress-container {
                padding: 10px;
                margin: 8px 0;
            }
            
            .progress-bar {
                height: 24px;
                margin: 6px 0 4px 0;
            }
            
            .progress-percent {
                font-size: 11px;
            }
            
            .countdown {
                gap: 4px;
                margin: 12px 0;
            }
            
            .time-unit {
                padding: 8px 4px;
            }
            
            .number {
                font-size: 1.3em;
            }
            
            .label {
                font-size: 0.65em;
            }
            
            .target-date {
                padding: 10px;
                margin: 12px 0;
            }
            
            .message {
                padding: 10px;
                margin-top: 12px;
            }
        }

        /* Extra kicsi n√©zetek (biztons√°g) */
        @media (max-height: 680px) {
            .emoji {
                display: none;
            }
            
            .container {
                padding: 12px;
            }
            
            .countdown {
                grid-template-columns: repeat(3, 1fr);
                gap: 5px;
                margin: 10px 0;
            }
            
            .time-unit:nth-child(4),
            .time-unit:nth-child(5) {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="emoji">üéØ</div>
        <h1>Nyugd√≠j Visszasz√°ml√°l√≥</h1>
        <p class="subtitle">40 √©v munka ut√°n j√°r a nyugd√≠j</p>
        
        <div class="progress-container">
            <h3>üìä Eddig teljes√≠tve:</h3>
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
                <div class="progress-percent" id="progress-percent">0.00000000%</div>
            </div>
            <div class="progress-text">
                <span>0 √©v</span>
                <span id="current-progress-short">0 √©v 0 nap</span>
                <span>40 √©v</span>
            </div>
            <div class="current-progress">
                Jelenleg: <span id="current-progress">0 √©v 0 nap</span>
            </div>
        </div>

        <div class="countdown">
            <div class="time-unit">
                <span class="number" id="years">0</span>
                <span class="label">√âV</span>
            </div>
            <div class="time-unit">
                <span class="number" id="days">0</span>
                <span class="label">NAP</span>
            </div>
            <div class="time-unit">
                <span class="number" id="hours">0</span>
                <span class="label">√ìRA</span>
            </div>
            <div class="time-unit">
                <span class="number" id="minutes">0</span>
                <span class="label">PERC</span>
            </div>
            <div class="time-unit">
                <span class="number" id="seconds">0</span>
                <span class="label">MP</span>
            </div>
        </div>

        <div class="target-date">
            <p>üéâ <strong>Becs√ºlt nyugd√≠jba vonul√°s:</strong></p>
            <span class="date-big" id="target-date">-</span>
        </div>

        <div class="message">
            <p>M√°r csak <span class="highlight" id="total-days">0</span> nap van h√°tra!</p>
            <p><strong>M√°r majdnem ott vagy!</strong> üíö</p>
        </div>
    </div>

    <script>
        // ===========================================
        // HELYES LOGIKA - JAV√çTOTT V√ÅLTOZAT
        // ===========================================
        
        // 1. ALAPADATOK
        const startDate = new Date('2023-12-31T00:00:00'); // Amikor 36 √©v 118 nap volt meg
        const startDaysCompleted = (36 * 365) + 118; // 36 √©v + 118 nap = 13,258 nap
        const totalDaysRequired = 40 * 365; // 40 √©v = 14,600 nap
        
        // 2. H√ÅTRAL√âV≈ê NAPOK A 40 √âVHEZ (2023.12.31-t≈ël sz√°molva)
        const daysNeededFrom2023 = totalDaysRequired - startDaysCompleted; // 14,600 - 13,258 = 1,342 nap
        
        // 3. C√âLD√ÅTUM: 2023.12.31 + 1,342 nap
        function calculateTargetDate() {
            const targetDate = new Date(startDate);
            // 1,342 nap = 3 √©v + 247 nap (365*3 + 247 = 1,342)
            targetDate.setDate(targetDate.getDate() + daysNeededFrom2023);
            return targetDate;
        }

        // 4. JELENLEGI √ÅLLAPOT SZ√ÅM√çT√ÅSA
        function calculateCurrentProgress() {
            const now = new Date();
            
            // Mennyi id≈ë telt el 2023.12.31 √≥ta (napokban, tizedesjegy pontosan!)
            const elapsedMs = now - startDate;
            const elapsedDays = elapsedMs / (1000 * 60 * 60 * 24); // TIZEDES sz√°m!
            
            // Jelenleg teljes√≠tett napok (pontosan)
            const currentTotalDays = startDaysCompleted + elapsedDays;
            
            // Sz√°zal√©k sz√°m√≠t√°s 8 tizedesjegyre
            const progressPercent = (currentTotalDays / totalDaysRequired) * 100;
            
            // √âvek √©s napok sz√°m√≠t√°sa a teljes√≠tm√©nyhez
            const currentYears = Math.floor(currentTotalDays / 365);
            const currentRemainingDays = Math.floor(currentTotalDays % 365);
            
            return {
                percent: progressPercent,
                totalDays: currentTotalDays,
                years: currentYears,
                days: currentRemainingDays,
                elapsedDays: elapsedDays
            };
        }

        // 5. VISSZASZ√ÅML√ÅL√ì A C√âLD√ÅTUMIG
        function calculateTimeLeft() {
            const targetDate = calculateTargetDate();
            const now = new Date();
            const timeLeftMs = targetDate - now;
            
            if (timeLeftMs <= 0) {
                return { 
                    years: 0, 
                    days: 0, 
                    hours: 0, 
                    minutes: 0, 
                    seconds: 0, 
                    totalDays: 0
                };
            }
            
            // Teljes napok
            const totalDays = Math.floor(timeLeftMs / (1000 * 60 * 60 * 24));
            
            // √âvek √©s napok
            const years = Math.floor(totalDays / 365);
            const days = totalDays % 365;
            
            // √ìr√°k, percek, m√°sodpercek
            const hours = Math.floor((timeLeftMs % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeftMs % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeftMs % (1000 * 60)) / 1000);
            
            return {
                years: years,
                days: days,
                hours: hours,
                minutes: minutes,
                seconds: seconds,
                totalDays: totalDays
            };
        }

        // 6. MINDEN FRISS√çT√âSE
        function updateAllDisplays() {
            // Progress friss√≠t√©se
            const progress = calculateCurrentProgress();
            const progressPercentValue = Math.min(progress.percent, 100);
            
            // Progress bar
            document.getElementById('progress-bar').style.width = progressPercentValue + '%';
            
            // Sz√°zal√©k 8 tizedesjeggyel a progress bar k√∂zep√©n
            document.getElementById('progress-percent').textContent = 
                progressPercentValue.toFixed(8) + '%';
            
            // Jelenlegi √°llapot sz√∂vegesen
            document.getElementById('current-progress').textContent = 
                `${progress.years} √©v ${progress.days} nap`;
            document.getElementById('current-progress-short').textContent = 
                `${progress.years} √©v ${progress.days} nap`;
            
            // Visszasz√°ml√°l√≥ friss√≠t√©se
            const timeLeft = calculateTimeLeft();
            
            document.getElementById('years').textContent = timeLeft.years;
            document.getElementById('days').textContent = timeLeft.days;
            document.getElementById('hours').textContent = timeLeft.hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = timeLeft.minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = timeLeft.seconds.toString().padStart(2, '0');
            document.getElementById('total-days').textContent = timeLeft.totalDays.toLocaleString();
            
            // C√©ld√°tum megjelen√≠t√©se
            const targetDate = calculateTargetDate();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('target-date').textContent = targetDate.toLocaleDateString('hu-HU', options);
            
            // Ha m√°r nyugd√≠jas
            if (timeLeft.totalDays <= 0) {
                document.getElementById('target-date').textContent = 'M√°r nyugd√≠jas! üéâ';
                document.getElementById('progress-bar').style.width = '100%';
                document.getElementById('progress-percent').textContent = '100.00000000%';
            }
        }

        // 7. INICIALIZ√ÅL√ÅS √âS FRISS√çT√âS
        updateAllDisplays(); // Azonnali friss√≠t√©s
        setInterval(updateAllDisplays, 1000); // M√°sodpercenk√©nti friss√≠t√©s

        // 8. MOBIL OPTIMALIZ√ÅL√ÅS
        // Samsung Galaxy S21 FE: 1080x1920, 6.4"
        // Viewport height: ~780px (chrome toolbar miatt)
        
        // Megakad√°lyozzuk a zoom-ol√°st
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });
        
        // Gyorsabb tap √©rz√©kel√©s
        document.addEventListener('touchstart', function() {}, {passive: true});
    </script>
</body>
</html>