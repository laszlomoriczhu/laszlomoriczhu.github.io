<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nyugd√≠j Visszasz√°ml√°l√≥ üéâ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 15px;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 800px;
            width: 100%;
            margin: 15px auto;
        }

        h1 {
            color: #333;
            margin-bottom: 12px;
            font-size: 2em;
        }

        .subtitle {
            color: #666;
            margin-bottom: 20px;
            font-size: 1em;
        }

        .progress-container {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 15px;
            margin: 15px 0;
        }

        .progress-bar {
            width: 100%;
            height: 25px;
            background: #e9ecef;
            border-radius: 12px;
            overflow: hidden;
            margin: 12px 0;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #4ecdc4, #44a08d);
            border-radius: 12px;
            transition: width 0.3s ease;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .countdown {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin: 20px 0;
        }

        @media (min-width: 768px) {
            .countdown {
                grid-template-columns: repeat(5, 1fr);
                gap: 12px;
            }
        }

        .time-unit {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 12px 8px;
            border-radius: 10px;
            box-shadow: 0 6px 12px rgba(255,107,107,0.3);
        }

        .number {
            font-size: 1.5em;
            font-weight: bold;
            display: block;
        }

        .label {
            font-size: 0.75em;
            opacity: 0.9;
            margin-top: 4px;
        }

        .target-date {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 15px;
            margin-top: 20px;
            border: 2px dashed #2196f3;
            font-size: 0.95em;
        }

        .emoji {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .highlight {
            color: #ee5a24;
            font-weight: bold;
        }

        .date-big {
            font-size: 1.2em;
            font-weight: bold;
            color: #2196f3;
            display: block;
            margin-top: 5px;
        }

        .message {
            margin-top: 20px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 12px;
            font-size: 0.95em;
        }

        .current-progress {
            background: #e8f5e9;
            padding: 10px;
            border-radius: 10px;
            margin-top: 10px;
            font-size: 0.9em;
        }

        .current-days {
            font-weight: bold;
            color: #2e7d32;
        }

        @media (max-width: 360px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.7em;
            }
            
            .countdown {
                grid-template-columns: repeat(2, 1fr);
                gap: 6px;
            }
            
            .time-unit {
                padding: 10px 6px;
            }
            
            .number {
                font-size: 1.3em;
            }
            
            .label {
                font-size: 0.7em;
            }
            
            .date-big {
                font-size: 1em;
            }
        }

        @media (min-width: 480px) and (max-width: 767px) {
            .countdown {
                grid-template-columns: repeat(5, 1fr);
                gap: 8px;
            }
            
            .time-unit {
                padding: 12px 6px;
            }
            
            .number {
                font-size: 1.4em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="emoji">üéØ</div>
        <h1>Nyugd√≠j Visszasz√°ml√°l√≥</h1>
        <p class="subtitle">40 √©v munka ut√°n j√°r a nyugd√≠j</p>
        
        <div class="progress-container">
            <h3>üìä Eddig teljes√≠tve:</h3>
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
            </div>
            <div class="progress-text">
                <span>Kezdet</span>
                <span id="progress-percent">0%</span>
                <span>Nyugd√≠j (40 √©v)</span>
            </div>
            <div class="current-progress">
                Jelenleg: <span class="current-days" id="current-progress">0 √©v 0 nap</span>
            </div>
        </div>

        <div class="countdown">
            <div class="time-unit">
                <span class="number" id="years">0</span>
                <span class="label">√âv</span>
            </div>
            <div class="time-unit">
                <span class="number" id="days">0</span>
                <span class="label">Nap</span>
            </div>
            <div class="time-unit">
                <span class="number" id="hours">0</span>
                <span class="label">√ìra</span>
            </div>
            <div class="time-unit">
                <span class="number" id="minutes">0</span>
                <span class="label">Perc</span>
            </div>
            <div class="time-unit">
                <span class="number" id="seconds">0</span>
                <span class="label">M√°sodperc</span>
            </div>
        </div>

        <div class="target-date">
            <p>üéâ <strong>Becs√ºlt nyugd√≠jba vonul√°s:</strong></p>
            <span class="date-big" id="target-date">-</span>
        </div>

        <div class="message">
            <p>M√°r csak <span class="highlight" id="total-days">0</span> nap van h√°tra!</p>
            <p><strong>M√°r majdnem ott vagy! </strong>üíö</p>
        </div>
    </div>

    <script>
        // ===========================================
        // HELYES LOGIKA - JAV√çTOTT V√ÅLTOZAT
        // ===========================================
        
        // 1. ALAPADATOK
        const startDate = new Date('2023-12-31T00:00:00'); // Amikor 36 √©v 118 nap volt meg
        const startDaysCompleted = (36 * 365) + 118; // 36 √©v + 118 nap = 13,258 nap
        const totalDaysRequired = 40 * 365; // 40 √©v = 14,600 nap
        
        // 2. H√ÅTRAL√âV≈ê NAPOK A 40 √âVHEZ (2023.12.31-t≈ël sz√°molva)
        const daysNeededFrom2023 = totalDaysRequired - startDaysCompleted; // 14,600 - 13,258 = 1,342 nap
        
        // 3. C√âLD√ÅTUM: 2023.12.31 + 1,342 nap
        function calculateTargetDate() {
            const targetDate = new Date(startDate);
            // 1,342 nap = 3 √©v + 247 nap (365*3 + 247 = 1,342)
            targetDate.setDate(targetDate.getDate() + daysNeededFrom2023);
            return targetDate;
        }

        // 4. JELENLEGI √ÅLLAPOT SZ√ÅM√çT√ÅSA
        function calculateCurrentProgress() {
            const now = new Date();
            
            // Mennyi id≈ë telt el 2023.12.31 √≥ta (napokban, tizedesjegy pontosan!)
            const elapsedMs = now - startDate;
            const elapsedDays = elapsedMs / (1000 * 60 * 60 * 24); // TIZEDES sz√°m!
            
            // Jelenleg teljes√≠tett napok (pontosan)
            const currentTotalDays = startDaysCompleted + elapsedDays;
            
            // Sz√°zal√©k sz√°m√≠t√°s 4 tizedesjegyre
            const progressPercent = (currentTotalDays / totalDaysRequired) * 100;
            
            // √âvek √©s napok sz√°m√≠t√°sa a teljes√≠tm√©nyhez
            const currentYears = Math.floor(currentTotalDays / 365);
            const currentRemainingDays = Math.floor(currentTotalDays % 365);
            
            return {
                percent: progressPercent,
                totalDays: currentTotalDays,
                years: currentYears,
                days: currentRemainingDays,
                elapsedDays: elapsedDays
            };
        }

        // 5. VISSZASZ√ÅML√ÅL√ì A C√âLD√ÅTUMIG
        function calculateTimeLeft() {
            const targetDate = calculateTargetDate();
            const now = new Date();
            const timeLeftMs = targetDate - now;
            
            if (timeLeftMs <= 0) {
                return { 
                    years: 0, 
                    days: 0, 
                    hours: 0, 
                    minutes: 0, 
                    seconds: 0, 
                    totalDays: 0,
                    targetDate: targetDate
                };
            }
            
            // Teljes napok
            const totalDays = Math.floor(timeLeftMs / (1000 * 60 * 60 * 24));
            
            // √âvek √©s napok
            const years = Math.floor(totalDays / 365);
            const days = totalDays % 365;
            
            // √ìr√°k, percek, m√°sodpercek
            const hours = Math.floor((timeLeftMs % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeftMs % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeftMs % (1000 * 60)) / 1000);
            
            return {
                years: years,
                days: days,
                hours: hours,
                minutes: minutes,
                seconds: seconds,
                totalDays: totalDays,
                targetDate: targetDate
            };
        }

        // 6. MINDEN FRISS√çT√âSE
        function updateAllDisplays() {
            // Progress friss√≠t√©se
            const progress = calculateCurrentProgress();
            const progressPercentValue = Math.min(progress.percent, 100);
            
            document.getElementById('progress-bar').style.width = progressPercentValue + '%';
            document.getElementById('progress-percent').textContent = progressPercentValue.toFixed(8) + '%';
            document.getElementById('current-progress').textContent = 
                `${progress.years} √©v ${progress.days} nap`;
            
            // Visszasz√°ml√°l√≥ friss√≠t√©se
            const timeLeft = calculateTimeLeft();
            
            document.getElementById('years').textContent = timeLeft.years;
            document.getElementById('days').textContent = timeLeft.days;
            document.getElementById('hours').textContent = timeLeft.hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = timeLeft.minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = timeLeft.seconds.toString().padStart(2, '0');
            document.getElementById('total-days').textContent = timeLeft.totalDays.toLocaleString();
            
            // C√©ld√°tum megjelen√≠t√©se
            const targetDate = calculateTargetDate();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('target-date').textContent = targetDate.toLocaleDateString('hu-HU', options);
            
            // Ha m√°r nyugd√≠jas
            if (timeLeft.totalDays <= 0) {
                document.getElementById('target-date').textContent = 'M√°r nyugd√≠jas! üéâ';
                document.getElementById('progress-bar').style.width = '100%';
                document.getElementById('progress-percent').textContent = '100.0000%';
            }
        }

        // 7. DEBUG INFO
        console.log("=== HELYES SZ√ÅMOL√ÅS ===");
        console.log("Kezd≈ë d√°tum (2023.12.31):", startDate.toLocaleDateString('hu-HU'));
        console.log("Kezd≈ë napok:", startDaysCompleted, "nap = 36 √©v 118 nap");
        console.log("C√©l napok:", totalDaysRequired, "nap = 40 √©v");
        console.log("H√°tral√©v≈ë napok 2023.12.31-t≈ël:", daysNeededFrom2023, "nap = 3 √©v 247 nap");
        
        const targetDate = calculateTargetDate();
        console.log("C√©ld√°tum:", targetDate.toLocaleDateString('hu-HU'), "(2023.12.31 + 3 √©v 247 nap)");
        
        const now = new Date();
        const elapsed = (now - startDate) / (1000 * 60 * 60 * 24);
        console.log("Ma:", now.toLocaleDateString('hu-HU'));
        console.log("El≈ërehalad√°s 2023.12.31 √≥ta:", elapsed.toFixed(1), "nap");
        console.log("Jelenlegi teljes√≠tm√©ny napokban:", (startDaysCompleted + elapsed).toFixed(1), "nap");
        console.log("==================");

        // 8. INICIALIZ√ÅL√ÅS √âS FRISS√çT√âS
        updateAllDisplays(); // Azonnali friss√≠t√©s
        setInterval(updateAllDisplays, 1000); // M√°sodpercenk√©nti friss√≠t√©s
    </script>
</body>
</html>